<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Flip Clock — Sem bibliotecas</title>
  <style>
    :root{
      --bg: #000000; /* preto */
      --card-bg: #0f0f10; /* cinza bem escuro */
      --card-bg-2: #121212;
      --text: #ffffff; /* branco */
      --accent: #111315;
      --shadow: rgba(0,0,0,0.6);
      --gap: 18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      display:flex;
      align-items:center;
      justify-content:center;
      background:var(--bg);
      color:var(--text);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    .clock{
      display:flex;
      gap:var(--gap);
      align-items:center;
      padding:24px;
      border-radius:12px;
      background:transparent;
    }

    .unit{
      display:flex;
      gap:10px;
      align-items:center;
    }

    .digit{
      width:90px;
      height:120px;
      perspective:1000px;
      position:relative;
    }

    /* top and bottom static halves */
    .card-top, .card-bottom{
      position:absolute;
      left:0; right:0;
      height:50%;
      overflow:hidden;
      background:linear-gradient(180deg,var(--card-bg) 0%, var(--card-bg-2) 100%);
      display:flex;
      align-items:center;
      justify-content:center;
      color:var(--text);
      font-size:56px;
      font-weight:700;
      box-shadow: 0 6px 18px var(--shadow) inset, 0 6px 20px rgba(0,0,0,0.6);
      backface-visibility:hidden;
    }
    .card-top{
      top:0;
      transform-origin:bottom center;
      border-top-left-radius:8px;
      border-top-right-radius:8px;
      border-bottom-left-radius:0;
      border-bottom-right-radius:0;
    }
    .card-bottom{
      bottom:0;
      transform-origin:top center;
      border-bottom-left-radius:8px;
      border-bottom-right-radius:8px;
      border-top-left-radius:0;
      border-top-right-radius:0;
    }

    /* flipping pieces */
    .flip-top, .flip-bottom{
      position:absolute;
      left:0; right:0;
      height:100%;
      overflow:hidden;
      pointer-events:none;
    }
    .flip-top{ top:0; transform-origin:bottom center }
    .flip-bottom{ bottom:0; transform-origin:top center }

    .flip-top .inner, .flip-bottom .inner{
      height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:56px;
      font-weight:700;
      color:var(--text);
      background:linear-gradient(180deg,var(--card-bg) 0%, var(--card-bg-2) 100%);
      box-shadow: 0 6px 18px var(--shadow) inset;
      backface-visibility:hidden;
    }

    /* initial hidden states */
    .flip-top .inner{ transform-origin:bottom center; }
    .flip-bottom .inner{ transform-origin:top center; transform: rotateX(90deg); }

    /* animation classes */
    .flipping .flip-top .inner{
      animation: fold 600ms ease-in forwards;
    }
    .flipping .flip-bottom .inner{
      animation: unfold 600ms 300ms ease-out forwards;
    }

    @keyframes fold{
      0%{ transform: rotateX(0deg); }
      100%{ transform: rotateX(-90deg); }
    }
    @keyframes unfold{
      0%{ transform: rotateX(90deg); }
      100%{ transform: rotateX(0deg); }
    }

    /* colon */
    .sep{
      width:18px;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap:10px;
    }
    .dot{
      width:12px; height:12px; border-radius:50%; background:var(--text); opacity:0.9;
      box-shadow:0 4px 8px rgba(255,255,255,0.08) inset;
    }

    /* responsive */
    @media (max-width:600px){
      .digit{ width:56px; height:78px }
      .card-top, .card-bottom, .flip-top .inner, .flip-bottom .inner{ font-size:32px }
    }

    /* small visual polish */
    .digit{filter:drop-shadow(0 10px 20px rgba(0,0,0,0.7)); border-radius:8px;}
  </style>
</head>
<body>
  <div class="clock" aria-label="Relógio flip">
    <div class="unit" id="hours">
      <div class="digit" data-unit="h1">
        <div class="card-top">0</div>
        <div class="card-bottom">0</div>
        <div class="flip-top"><div class="inner">0</div></div>
        <div class="flip-bottom"><div class="inner">0</div></div>
      </div>
      <div class="digit" data-unit="h2">
        <div class="card-top">0</div>
        <div class="card-bottom">0</div>
        <div class="flip-top"><div class="inner">0</div></div>
        <div class="flip-bottom"><div class="inner">0</div></div>
      </div>
    </div>

    <div class="sep">
      <div class="dot" id="dot1"></div>
      <div class="dot" id="dot2"></div>
    </div>

    <div class="unit" id="minutes">
      <div class="digit" data-unit="m1">
        <div class="card-top">0</div>
        <div class="card-bottom">0</div>
        <div class="flip-top"><div class="inner">0</div></div>
        <div class="flip-bottom"><div class="inner">0</div></div>
      </div>
      <div class="digit" data-unit="m2">
        <div class="card-top">0</div>
        <div class="card-bottom">0</div>
        <div class="flip-top"><div class="inner">0</div></div>
        <div class="flip-bottom"><div class="inner">0</div></div>
      </div>
    </div>

    <div class="sep">
      <div class="dot"></div>
      <div class="dot"></div>
    </div>

    <div class="unit" id="seconds">
      <div class="digit" data-unit="s1">
        <div class="card-top">0</div>
        <div class="card-bottom">0</div>
        <div class="flip-top"><div class="inner">0</div></div>
        <div class="flip-bottom"><div class="inner">0</div></div>
      </div>
      <div class="digit" data-unit="s2">
        <div class="card-top">0</div>
        <div class="card-bottom">0</div>
        <div class="flip-top"><div class="inner">0</div></div>
        <div class="flip-bottom"><div class="inner">0</div></div>
      </div>
    </div>
  </div>

  <script>
    const pad = n => String(n).padStart(2,'0');

    function getDigits(date){
      const h = pad(date.getHours());
      const m = pad(date.getMinutes());
      const s = pad(date.getSeconds());
      return {h1:h[0], h2:h[1], m1:m[0], m2:m[1], s1:s[0], s2:s[1]};
    }

    const digits = {};
    document.querySelectorAll('.digit').forEach(el=>{
      digits[el.dataset.unit] = el;
    });

    function setInstant(unit, value){
      const el = digits[unit];
      el.querySelector('.card-top').textContent = value;
      el.querySelector('.card-bottom').textContent = value;
      el.querySelector('.flip-top .inner').textContent = value;
      el.querySelector('.flip-bottom .inner').textContent = value;
    }

    function flip(unit, next){
      const el = digits[unit];
      const top = el.querySelector('.card-top');
      const bottom = el.querySelector('.card-bottom');
      const ftop = el.querySelector('.flip-top .inner');
      const fbottom = el.querySelector('.flip-bottom .inner');

      const current = top.textContent;
      if(current === next) return;

      ftop.textContent = current;
      fbottom.textContent = next;
      top.textContent = current;
      bottom.textContent = current;

      el.classList.add('flipping');

      setTimeout(()=>{
        top.textContent = next;
        bottom.textContent = next;
        ftop.textContent = next;
        fbottom.textContent = next;
        el.classList.remove('flipping');
      }, 700);
    }

    let last = {};
    function updateClock(){
      const now = new Date();
      const d = getDigits(now);
      if(!Object.keys(last).length){
        Object.entries(d).forEach(([k,v]) => setInstant(k,v));
        last = {...d};
        return;
      }

      Object.entries(d).forEach(([k,v])=>{
        if(last[k] !== v){
          flip(k, v);
        }
      });
      last = {...d};
    }

    let dotOn = true;
    setInterval(()=>{
      dotOn = !dotOn;
      document.querySelectorAll('.sep .dot').forEach(d=> d.style.opacity = dotOn ? '0.95' : '0.25');
    }, 600);

    updateClock();
    setTimeout(()=>{
      updateClock();
      setInterval(updateClock, 1000);
    }, 1000 - (new Date().getMilliseconds()));
  </script>
</body>
</html>
